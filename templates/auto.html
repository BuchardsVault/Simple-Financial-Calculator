{% extends "base.html" %}
{% block title %}Auto Loan Calculator{% endblock %}
{% block content %}
<div class="calc-card mx-auto">
  <h1 class="text-center text-warning mb-4">Auto Loan Calculator</h1>
  {% if error %}<div class="alert alert-danger">{{ error }}</div>{% endif %}
  <form method="post" action="{{ url_for('page_auto') }}" class="row gx-3">
    <input type="hidden" name="mode" value="auto"/>
    <div class="col-md-6 mb-3">
      <label class="form-label text-light">Auto Price ($)</label>
      <input name="price" type="number" step="0.01" class="form-control"
             value="{{ data.price }}" required>
    </div>
    <div class="col-md-6 mb-3">
      <label class="form-label text-light">Term (months)</label>
      <input name="term" type="number" class="form-control"
             value="{{ data.term }}" required>
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label text-light">Rate (%)</label>
      <input name="rate" type="number" step="0.01" class="form-control"
             value="{{ data.rate }}" required>
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label text-light">Incentives ($)</label>
      <input name="incentives" type="number" step="0.01" class="form-control"
             value="{{ data.incentives }}" required>
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label text-light">Down ($)</label>
      <input name="down" type="number" step="0.01" class="form-control"
             value="{{ data.down }}" required>
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label text-light">Tradeâ€‘in ($)</label>
      <input name="trade_val" type="number" step="0.01" class="form-control"
             value="{{ data.trade_val }}" required>
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label text-light">Owed on Trade ($)</label>
      <input name="trade_owed" type="number" step="0.01" class="form-control"
             value="{{ data.trade_owed }}" required>
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label text-light">Sales Tax (%)</label>
      <input name="sales_tax" type="number" step="0.01" class="form-control"
             value="{{ data.sales_tax }}" required>
    </div>
    <div class="col-md-6 mb-3">
      <label class="form-label text-light">Fees ($)</label>
      <input name="fees" type="number" step="0.01" class="form-control"
             value="{{ data.fees }}" required>
    </div>
    <div class="col-12 text-center">
      <button class="btn btn-primary">Calculate</button>
    </div>
  </form>

  {% if result %}
  <div class="mt-4">
    <table class="table table-dark table-striped">
      <tr><th>Total Loan</th><td>{{ result.loan }}</td></tr>
      <tr><th>Tax</th><td>{{ result.tax }}</td></tr>
      <tr><th>Upfront</th><td>{{ result.up }}</td></tr>
      <tr><th>Total Pay</th><td>{{ result.pay }}</td></tr>
      <tr><th>Interest</th><td>{{ result.interest }}</td></tr>
      <tr><th>Total Cost</th><td>{{ result.cost }}</td></tr>
      <tr><th>Monthly</th><td>{{ result.monthly }}</td></tr>
    </table>
  </div>
  {% endif %}
</div>
{% endblock %}
